<link rel="import" href="polymer/polymer.html"/>
<link rel="import" href="core-header-panel/core-header-panel.html"/>
<link rel="import" href="core-toolbar/core-toolbar.html"/>
<link rel="import" href="core-icon-button/core-icon-button.html">
<link rel="import" href="todo-list.html">
<link rel="import" href="app-globals.html"/>

<polymer-element name="todo-list-view">
    <template>
        <style>
            core-header-panel {
                height: 100%;
            }
            core-toolbar {
                background-color: #B3E5FC;
                color: white;
            }
            .lists {
                padding: 20px;
            }
        </style>
        <core-header-panel mode="seamed">
            <core-toolbar>
                <div flex>My Todos</div>
                <core-icon-button icon="add" on-tap="{{ addTodoList }}"></core-icon-button>
            </core-toolbar>
            <div layout horizontal wrap start class="lists">
                <template repeat="{{ todoList in data.todoLists }}">
                    <todo-list data="{{ todoList }}"></todo-list>
                </template>
            </div>
        </core-header-panel>
        <app-globals id="globals"></app-globals>
    </template>
    <script>
        Polymer({
            ready: function() {
                this.data = this.$.globals.data;
            },
            addTodoList: function() {
                this.fire('add-todo-list');
            }
        });
    </script>
</polymer-element>